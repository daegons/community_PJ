{"ast":null,"code":"import _slicedToArray from\"C:/Users/qzom1/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/coding/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{UploadDiv,UploadForm,UploadButtonDiv}from'../../Style/UploadCSS';import axios from'axios';import{useNavigate}from'react-router-dom';import ImageUpload from'./ImageUpload';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Upload=function Upload(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),image=_useState6[0],setImage=_useState6[1];var navigate=useNavigate();var onSubmit=function onSubmit(e){e.preventDefault();if(title===''||content===''){return alert('모든 항목을 채워주세요');}var body={title:title,content:content,image:image};axios.post('/api/post/submit',body).then(function(res){if(res.data.success){alert('글 작성이 완료되었습니다.✔');navigate('/');}else{alert('글 작성이 실패하였습니다.❌');}}).catch(function(err){console.log(err);});};return/*#__PURE__*/_jsx(UploadDiv,{children:/*#__PURE__*/_jsxs(UploadForm,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"input\",{id:\"title\",type:\"text\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(ImageUpload,{setImage:setImage}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"content\",type:\"text\",value:content,onChange:function onChange(e){return setContent(e.target.value);}}),/*#__PURE__*/_jsx(UploadButtonDiv,{children:/*#__PURE__*/_jsx(\"button\",{onClick:onSubmit,children:\"\\uC81C\\uCD9C\"})})]})});};export default Upload;","map":{"version":3,"names":["useState","UploadDiv","UploadForm","UploadButtonDiv","axios","useNavigate","ImageUpload","jsx","_jsx","jsxs","_jsxs","Upload","props","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","content","setContent","_useState5","_useState6","image","setImage","navigate","onSubmit","e","preventDefault","alert","body","post","then","res","data","success","catch","err","console","log","children","htmlFor","id","type","value","onChange","target","onClick"],"sources":["C:/Users/qzom1/OneDrive/바탕 화면/coding/client/src/Component/Post/Upload.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { UploadDiv, UploadForm, UploadButtonDiv } from '../../Style/UploadCSS';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport ImageUpload from './ImageUpload';\r\nconst Upload = (props) => {\r\n  const [title, setTitle] = useState('');\r\n  const [content, setContent] = useState('');\r\n  const [image, setImage] = useState('');\r\n  let navigate = useNavigate();\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (title === '' || content === '') {\r\n      return alert('모든 항목을 채워주세요');\r\n    }\r\n    let body = {\r\n      title: title,\r\n      content: content,\r\n      image: image,\r\n    };\r\n\r\n    axios\r\n      .post('/api/post/submit', body)\r\n      .then((res) => {\r\n        if (res.data.success) {\r\n          alert('글 작성이 완료되었습니다.✔');\r\n          navigate('/');\r\n        } else {\r\n          alert('글 작성이 실패하였습니다.❌');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <UploadDiv>\r\n      <UploadForm>\r\n        <label htmlFor=\"title\">제목</label>\r\n        <input\r\n          id=\"title\"\r\n          type=\"text\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <ImageUpload setImage={setImage} />\r\n        <label htmlFor=\"content\">내용</label>\r\n        <textarea\r\n          id=\"content\"\r\n          type=\"text\"\r\n          value={content}\r\n          onChange={(e) => setContent(e.target.value)}\r\n        />\r\n        <UploadButtonDiv>\r\n          <button onClick={onSubmit}>제출</button>\r\n        </UploadButtonDiv>\r\n      </UploadForm>\r\n    </UploadDiv>\r\n  );\r\n};\r\n\r\nexport default Upload;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}